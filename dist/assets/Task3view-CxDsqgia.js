import{c as b,S as x}from"./confetti.module-DfyuPD8X.js";import{c as i,a as r,e as c,n as v,F as u,f,g as y,t as g,o as d,h as p,i as w}from"./index-DtCBQp3x.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={name:"Task3View",data(){return{items:[{id:0,name:"Calligraphy panel ðŸ–‹ï¸",matched:!1},{id:1,name:"Al Noor Mosque ðŸ•Œ",matched:!1},{id:2,name:"Dhow painting â›µ",matched:!1},{id:3,name:"Falcon sculpture ðŸ¦…",matched:!1},{id:4,name:"Sand dune photo ðŸœï¸",matched:!1}],meanings:[{id:0,text:"A. Tribute to UAE's maritime roots and trade heritage",matched:!1,matchedItemIndex:null},{id:1,text:"B. Connection between nature and human endurance",matched:!1,matchedItemIndex:null},{id:2,text:"C. Expression of divine beauty through Arabic script",matched:!1,matchedItemIndex:null},{id:3,text:"D. Symbol of light, learning, and spiritual openness",matched:!1,matchedItemIndex:null},{id:4,text:"E. National pride, strength, and freedom",matched:!1,matchedItemIndex:null}],correctMatches:{0:2,1:3,2:0,3:4,4:1},draggedItem:null,draggedItemType:null,progress:0,isDraggingOver:null,touchClone:null,currentTouchDrop:null}},computed:{allMatched(){const t=this.items.every(e=>e.matched);return t&&this.celebrate(),t}},mounted(){document.querySelectorAll("[draggable='true']").forEach((e,n)=>{e.addEventListener("touchstart",s=>this.onTouchStart(s,n)),e.addEventListener("touchmove",s=>this.onTouchMove(s)),e.addEventListener("touchend",s=>this.onTouchEnd(s))})},methods:{celebrate(){b({particleCount:100,spread:70,origin:{y:.6}}),x.fire({title:"Amazing!",text:"You've completed all matches!",icon:"success",confirmButtonText:"Play Again"}).then(()=>this.resetGame())},updateProgress(){const t=this.items.filter(e=>e.matched).length;this.progress=t/this.items.length*100},resetGame(){this.items=this.items.map(t=>({...t,matched:!1})),this.meanings=this.meanings.map(t=>({...t,matched:!1,matchedItemIndex:null})),this.progress=0},onDragStart(t,e,n){if(this.items[e].matched){t.preventDefault();return}this.draggedItem=e,this.draggedItemType=n,t.dataTransfer.effectAllowed="move",t.target.classList.add("dragging")},onDragEnd(t){this.draggedItem=null,this.draggedItemType=null,document.querySelectorAll(".dragging").forEach(e=>e.classList.remove("dragging"))},onDrop(t,e,n){if(this.draggedItemType==="item"&&n==="meaning"){const s=this.draggedItem;this.correctMatches[s]===e&&(this.items[s].matched=!0,this.meanings[e].matched=!0,this.meanings[e].matchedItemIndex=s,this.updateProgress(),this.items.every(l=>l.matched)&&this.celebrate())}},onTouchStart(t,e){t.preventDefault(),!this.items[e].matched&&(this.draggedItem=e,this.draggedItemType="item",this.touchClone=t.target.cloneNode(!0),Object.assign(this.touchClone.style,{position:"fixed",pointerEvents:"none",opacity:"0.7",zIndex:"9999",left:t.touches[0].clientX+"px",top:t.touches[0].clientY+"px"}),document.body.appendChild(this.touchClone))},onTouchMove(t){if(!this.touchClone)return;const e=t.touches[0];this.touchClone.style.left=e.clientX-50+"px",this.touchClone.style.top=e.clientY-30+"px";const n=document.elementFromPoint(e.clientX,e.clientY);document.querySelectorAll(".drop-zone").forEach(s=>s.classList.remove("highlight")),n&&n.classList.contains("drop-zone")&&(n.classList.add("highlight"),this.currentTouchDrop=n)},onTouchEnd(t){if(this.touchClone&&(this.touchClone.remove(),this.touchClone=null),this.currentTouchDrop){const e=Array.from(document.querySelectorAll(".drop-zone")).indexOf(this.currentTouchDrop);e>=0&&this.onDrop(t,e,"meaning"),this.currentTouchDrop.classList.remove("highlight"),this.currentTouchDrop=null}this.draggedItem=null,this.draggedItemType=null}}},T={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg my-4 relative overflow-hidden"},C={class:"text-center mb-8 p-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl shadow-md"},A={class:"mt-4 h-2 bg-white/30 rounded-full overflow-hidden"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8"},M={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},S={class:"space-y-3"},k=["onDragstart"],L={class:"flex items-center space-x-2"},_={class:"text-xl"},z={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},G={class:"space-y-3"},N=["onDrop"],Y={class:"font-medium text-gray-800"},q={key:0,class:"mt-2 p-2 bg-white rounded border-l-4 border-orange-400 text-sm text-gray-700 shadow-sm animate-fade-in"},O={key:0,class:"mt-8 p-8 text-center bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border-2 border-green-200 animate-fade-in"},P={class:"text-lg font-medium mb-6"},B={class:"text-blue-600 font-bold"},F={key:1,class:"mt-8 p-8 text-center bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border-2 border-red-200 animate-fade-in"};function V(t,e,n,s,l,a){return d(),i("div",T,[r("div",C,[e[5]||(e[5]=r("h1",{class:"text-2xl md:text-3xl font-bold mb-2"},"Sharjah â€“ Al Noor Mosque / Art Museum",-1)),e[6]||(e[6]=r("h2",{class:"text-xl md:text-2xl mb-4 opacity-90"},"QR Match of Meaning",-1)),e[7]||(e[7]=r("p",{class:"text-white/90 max-w-3xl mx-auto text-sm md:text-base"}," Match the icons with their corresponding meanings by dragging and dropping. ",-1)),r("div",A,[r("div",{class:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-500",style:v({width:l.progress+"%"})},[...e[4]||(e[4]=[r("div",{class:"h-full w-full bg-gradient-to-r from-transparent via-white/50 to-transparent"},null,-1)])],4)])]),r("div",E,[r("div",M,[e[8]||(e[8]=r("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Icons",-1)),r("div",S,[(d(!0),i(u,null,f(l.items,(o,m)=>(d(),i("div",{key:"item-"+m,draggable:"true",onDragstart:h=>a.onDragStart(h,m,"item"),onDragend:e[0]||(e[0]=(...h)=>a.onDragEnd&&a.onDragEnd(...h)),class:p(["draggable-item",["p-4 rounded-lg border-2 transition-all duration-200 cursor-move select-none text-lg",o.matched?"bg-green-50 border-green-300 text-green-800 pr-10 relative":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md",o.matched?"matched-item":""]])},[r("div",L,[r("span",_,g(o.name.split(" ")[o.name.split(" ").length-1]),1),r("span",null,g(o.name.split(" ").slice(0,-1).join(" ")),1)])],42,k))),128))])]),r("div",z,[e[9]||(e[9]=r("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Meanings",-1)),r("div",G,[(d(!0),i(u,null,f(l.meanings,(o,m)=>(d(),i("div",{key:"meaning-"+m,onDragover:e[1]||(e[1]=w(()=>{},["prevent"])),onDrop:h=>a.onDrop(h,m,"meaning"),class:p(["p-4 rounded-lg transition-all duration-200 min-h-[60px]",o.matched?"bg-green-50 border-2 border-green-300":"bg-gray-50 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50","drop-zone",{highlight:l.isDraggingOver===m}])},[r("div",Y,g(o.text),1),o.matchedItemIndex!==null?(d(),i("div",q,g(l.items[o.matchedItemIndex].name),1)):c("",!0)],42,N))),128))])])]),a.allMatched?(d(),i("div",O,[e[11]||(e[11]=r("div",{class:"text-4xl mb-4"},"ðŸŽ‰",-1)),e[12]||(e[12]=r("h3",{class:"text-2xl font-bold text-green-700 mb-3"},"Level Complete! ðŸŽ‰",-1)),e[13]||(e[13]=r("p",{class:"text-gray-700 mb-4"},"Perfect! You've matched all items correctly!",-1)),r("p",P,[e[10]||(e[10]=y("Your final score: ",-1)),r("span",B,g(t.score)+" points",1)]),r("button",{onClick:e[2]||(e[2]=(...o)=>a.resetGame&&a.resetGame(...o)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Play Again ")])):c("",!0),t.gameOver?(d(),i("div",F,[e[14]||(e[14]=r("h3",{class:"text-2xl font-bold text-red-700 mb-3"},"Game Over",-1)),e[15]||(e[15]=r("p",{class:"text-gray-700 mb-6"},"You've run out of lives!",-1)),r("button",{onClick:e[3]||(e[3]=(...o)=>a.resetGame&&a.resetGame(...o)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Try Again ")])):c("",!0)])}const R=I(D,[["render",V]]);export{R as default};
