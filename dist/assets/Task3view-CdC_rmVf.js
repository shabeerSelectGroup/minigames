import{c as f,S as x}from"./confetti.module-DfyuPD8X.js";import{c as l,a as o,e as u,b as v,t as m,n as y,F as g,f as b,g as w,o as d,h as p,i as I}from"./index-92zGObDl.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={name:"Task3View",data(){return{items:[{id:0,name:"Calligraphy panel ðŸ–‹ï¸",matched:!1},{id:1,name:"Al Noor Mosque ðŸ•Œ",matched:!1},{id:2,name:"Dhow painting â›µ",matched:!1},{id:3,name:"Falcon sculpture ðŸ¦…",matched:!1},{id:4,name:"Sand dune photo ðŸœï¸",matched:!1}],meanings:[{id:0,text:"A. Tribute to UAE's maritime roots and trade heritage",matched:!1,matchedItemIndex:null,correct:null},{id:1,text:"B. Connection between nature and human endurance",matched:!1,matchedItemIndex:null,correct:null},{id:2,text:"C. Expression of divine beauty through Arabic script",matched:!1,matchedItemIndex:null,correct:null},{id:3,text:"D. Symbol of light, learning, and spiritual openness",matched:!1,matchedItemIndex:null,correct:null},{id:4,text:"E. National pride, strength, and freedom",matched:!1,matchedItemIndex:null,correct:null}],correctMatches:{0:2,1:3,2:0,3:4,4:1},draggedItem:null,draggedItemType:null,progress:0,isDraggingOver:null,touchClone:null,currentTouchDrop:null}},computed:{allMatched(){const t=this.items.every(e=>e.matched);return t&&this.celebrate(),t}},mounted(){document.querySelectorAll("[draggable='true']").forEach((e,a)=>{e.addEventListener("touchstart",n=>this.onTouchStart(n,a)),e.addEventListener("touchmove",n=>this.onTouchMove(n)),e.addEventListener("touchend",n=>this.onTouchEnd(n))})},methods:{celebrate(){f({particleCount:100,spread:70,origin:{y:.6}}),x.fire({title:"Amazing!",text:"You've completed all matches!",icon:"success",confirmButtonText:"Play Again"}).then(()=>this.resetGame())},updateProgress(){const t=this.items.filter(e=>e.matched).length;this.progress=t/this.items.length*100},resetGame(){this.items=this.items.map(t=>({...t,matched:!1})),this.meanings=this.meanings.map(t=>({...t,matched:!1,matchedItemIndex:null,correct:null})),this.progress=0},onDragStart(t,e,a){if(this.items[e].matched){t.preventDefault();return}this.draggedItem=e,this.draggedItemType=a,t.dataTransfer.effectAllowed="move",t.target.classList.add("dragging")},onDragEnd(t){this.draggedItem=null,this.draggedItemType=null,document.querySelectorAll(".dragging").forEach(e=>e.classList.remove("dragging"))},onDrop(t,e,a){if(this.draggedItemType==="item"&&a==="meaning"){const n=this.draggedItem,i=this.correctMatches[n]===e;if(this.meanings[e].matched=!0,this.meanings[e].matchedItemIndex=n,this.meanings[e].correct=i,i)this.items[n].matched=!0,this.updateProgress(),this.items.every(s=>s.matched)&&this.celebrate();else{const s=t.target.closest(".drop-zone");s&&(s.classList.add("shake-animation"),setTimeout(()=>{s.classList.remove("shake-animation"),this.meanings[e].matched=!1,this.meanings[e].matchedItemIndex=null,this.meanings[e].correct=null},1e3))}}},onTouchStart(t,e){t.preventDefault(),!this.items[e].matched&&(this.draggedItem=e,this.draggedItemType="item",this.touchClone=t.target.cloneNode(!0),Object.assign(this.touchClone.style,{position:"fixed",pointerEvents:"none",opacity:"0.7",zIndex:"9999",left:t.touches[0].clientX+"px",top:t.touches[0].clientY+"px"}),document.body.appendChild(this.touchClone))},onTouchMove(t){if(!this.touchClone)return;const e=t.touches[0];this.touchClone.style.left=e.clientX-50+"px",this.touchClone.style.top=e.clientY-30+"px";const a=document.elementFromPoint(e.clientX,e.clientY);document.querySelectorAll(".drop-zone").forEach(n=>n.classList.remove("highlight")),a&&a.classList.contains("drop-zone")&&(a.classList.add("highlight"),this.currentTouchDrop=a)},onTouchEnd(t){if(this.touchClone&&(this.touchClone.remove(),this.touchClone=null),this.currentTouchDrop){const e=Array.from(document.querySelectorAll(".drop-zone")).indexOf(this.currentTouchDrop);e>=0&&this.onDrop(t,e,"meaning"),this.currentTouchDrop.classList.remove("highlight"),this.currentTouchDrop=null}this.draggedItem=null,this.draggedItemType=null}}},C={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-3 md:p-6 transition-colors duration-300"},_={class:"max-w-3xl mx-auto"},A={class:"bg-white rounded-xl shadow-md p-5 mb-6 transition-all duration-200 hover:shadow-sm"},M={class:"mt-5"},k={class:"flex justify-between text-xs text-gray-500 mb-1"},E={class:"font-medium"},S={class:"w-full bg-gray-100 rounded-full h-2 overflow-hidden"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8"},z={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},N={class:"space-y-3"},G=["onDragstart"],P={class:"flex items-center space-x-2"},Y={class:"text-xl"},q={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},O={class:"space-y-3"},B=["onDrop"],V={class:"font-medium text-gray-800"},j={key:0,class:"mt-2 p-2 bg-white rounded border-l-4 border-orange-400 text-sm text-gray-700 shadow-sm animate-fade-in"},F={key:0,class:"mt-8 p-8 text-center bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border-2 border-green-200 animate-fade-in"},X={class:"text-lg font-medium mb-6"},Q={class:"text-blue-600 font-bold"},R={key:1,class:"mt-8 p-8 text-center bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border-2 border-red-200 animate-fade-in"};function H(t,e,a,n,i,s){return d(),l("div",C,[o("div",_,[o("div",A,[e[5]||(e[5]=v('<div class="text-center"><span class="inline-block px-2.5 py-0.5 text-[11px] font-semibold text-blue-600 bg-blue-100 rounded-full mb-2">QR MATCH</span><h1 class="text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"> Sharjah â€“ Al Noor Mosque / Art Museum </h1><div class="w-16 h-0.5 bg-gradient-to-r from-blue-400 to-indigo-400 mx-auto my-3 rounded-full"></div><h2 class="text-lg text-gray-600 font-medium">QR Match of Meaning</h2></div><p class="text-sm text-gray-600 text-center max-w-2xl mx-auto mt-3 mb-4 leading-relaxed"> Match the icons with their corresponding meanings by dragging and dropping. </p>',2)),o("div",M,[o("div",k,[e[4]||(e[4]=o("span",null,"Progress",-1)),o("span",E,m(Math.round(i.progress))+"%",1)]),o("div",S,[o("div",{class:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:y({width:`${i.progress}%`})},null,4)])])]),o("div",L,[o("div",z,[e[6]||(e[6]=o("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Icons",-1)),o("div",N,[(d(!0),l(g,null,b(i.items,(r,c)=>(d(),l("div",{key:"item-"+c,draggable:"true",onDragstart:h=>s.onDragStart(h,c,"item"),onDragend:e[0]||(e[0]=(...h)=>s.onDragEnd&&s.onDragEnd(...h)),class:p(["draggable-item",["p-4 rounded-lg border-2 transition-all duration-200 cursor-move select-none text-lg",r.matched?"bg-green-50 border-green-300 text-green-800 pr-10 relative":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md",r.matched?"matched-item":""]])},[o("div",P,[o("span",Y,m(r.name.split(" ")[r.name.split(" ").length-1]),1),o("span",null,m(r.name.split(" ").slice(0,-1).join(" ")),1)])],42,G))),128))])]),o("div",q,[e[7]||(e[7]=o("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Meanings",-1)),o("div",O,[(d(!0),l(g,null,b(i.meanings,(r,c)=>(d(),l("div",{key:"meaning-"+c,onDragover:e[1]||(e[1]=I(()=>{},["prevent"])),onDrop:h=>s.onDrop(h,c,"meaning"),class:p(["p-4 rounded-lg transition-all duration-200 min-h-[60px]",r.matched&&r.correct?"bg-green-50 border-2 border-green-300":r.matched&&!r.correct?"bg-red-50 border-2 border-red-300 shake-animation":"bg-gray-50 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50","drop-zone",{highlight:i.isDraggingOver===c}])},[o("div",V,m(r.text),1),r.matchedItemIndex!==null?(d(),l("div",j,m(i.items[r.matchedItemIndex].name),1)):u("",!0)],42,B))),128))])])]),s.allMatched?(d(),l("div",F,[e[9]||(e[9]=o("div",{class:"text-4xl mb-4"},"ðŸŽ‰",-1)),e[10]||(e[10]=o("h3",{class:"text-2xl font-bold text-green-700 mb-3"},"Level Complete! ðŸŽ‰",-1)),e[11]||(e[11]=o("p",{class:"text-gray-700 mb-4"},"Perfect! You've matched all items correctly!",-1)),o("p",X,[e[8]||(e[8]=w("Your final score: ",-1)),o("span",Q,m(t.score)+" points",1)]),o("button",{onClick:e[2]||(e[2]=(...r)=>s.resetGame&&s.resetGame(...r)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Play Again ")])):u("",!0),t.gameOver?(d(),l("div",R,[e[12]||(e[12]=o("h3",{class:"text-2xl font-bold text-red-700 mb-3"},"Game Over",-1)),e[13]||(e[13]=o("p",{class:"text-gray-700 mb-6"},"You've run out of lives!",-1)),o("button",{onClick:e[3]||(e[3]=(...r)=>s.resetGame&&s.resetGame(...r)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Try Again ")])):u("",!0)])])}const K=D(T,[["render",H]]);export{K as default};
